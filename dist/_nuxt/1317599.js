(window.webpackJsonp=window.webpackJsonp||[]).push([[13,71],{737:function(e,t,n){"use strict";n.r(t);var r=n(6),component=Object(r.a)({},(function(){var e=this;return(0,e._self._c)("div",{staticClass:"cursor-pointer group w-10 h-10 flex-center rounded-full hocus-text-white hocus_bg-accent-default",on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},853:function(e,t,n){"use strict";n.r(t);var r=n(10),o=n(1),c=n(4),l=(n(34),n(15),n(75),n(38),n(93)),d=n(296),f=n(48),m=Object(o.defineComponent)({__name:"Delete",props:{categoryId:null},setup:function(e){var t=e,n=Object(r.g)(),m=n.$store,h=n.$notify,v=Object(r.i)(),O=Object(o.toRefs)(t).categoryId,w=Object(o.computed)((function(){return m.state.categories.items[O.value]})),y=Object(o.computed)((function(){return m.state.trns.items})),j=Object(o.computed)((function(){var e,t,n;return Object(l.a)({categoriesIds:(null===(e=w.value)||void 0===e||null===(t=e.childIds)||void 0===t?void 0:t.length)>0?null===(n=w.value)||void 0===n?void 0:n.childIds:[O.value],trnsItems:y.value})})),x=Object(o.ref)(!1),C=Object(o.computed)((function(){return j.value.length>0?"It's also will delete ".concat(j.value.length," trns in this category."):null}));function I(){return(I=Object(c.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(JSON.stringify(m.state.user.user.uid)),n=JSON.parse(JSON.stringify(j.value)),r=JSON.parse(JSON.stringify(O.value)),v.push("/categories"),setTimeout(Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.dispatch("trns/deleteTrnsByIds",n);case 2:Object(f.d)("users/".concat(t,"/categories/").concat(r)).then((function(){h({type:"success",text:(null==n?void 0:n.length)>0?"Success delete category with ".concat(n.length," transactions!"):"Success delete category!",title:Object(d.b)(d.c)})}));case 3:case"end":return e.stop()}}),e)}))),100);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{__sfc:!0,props:t,$store:m,$notify:h,router:v,categoryId:O,category:w,trnsItems:y,trnsIds:j,isShowDeleteConfirm:x,deleteDescText:C,onClickDelete:function(){for(var e in m.state.categories.items)if(m.state.categories.items[e].parentId===O.value)return h({title:Object(d.b)(d.a),type:"error",text:"You can not delete category with child categories. Remove child categories first."}),!1;x.value=!0},onDeleteConfirm:function(){return I.apply(this,arguments)},getTrnsIds:l.a,errorEmo:d.a,random:d.b,successEmo:d.c,removeData:f.d}}}),h=m,v=n(6),component=Object(v.a)(h,(function(){var e=this._self._c,t=this._self._setupProxy;return e("div",[e("UiHeaderLink",{on:{click:t.onClickDelete}},[e("div",{staticClass:"mdi mdi-delete-empty-outline group-hover_text-white text-xl"})]),e("ModalBottomConfirm",{attrs:{show:t.isShowDeleteConfirm,description:t.deleteDescText},on:{closed:function(e){t.isShowDeleteConfirm=!1},onConfirm:t.onDeleteConfirm}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{UiHeaderLink:n(737).default,ModalBottomConfirm:n(480).default})}}]);